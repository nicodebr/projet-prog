#include<stdio.h>
#include<string.h>
#include<math.h>
#include<stdlib.h>

typedef struct {
    int x;
    int y;
    int score;
} Ball;

int main(int argc, char* argv[]) {

    //ouverture du fichier
    if (argc < 2) {
        printf("Erreur : veuillez spécifier le nom du fichier Pixmap en argument\n");
        return -1;
    }

   
   //FILE* Pixmap;
    //if (fopen_s(&Pixmap, argv[1], "rb") != 0) {
        //printf("Erreur : le fichier Pixmap ne peut pas s'ouvrir correctement\n");
        //return -1;
    //}
    FILE* Pixmap;
    Pixmap = fopen("Pixmap.bin", "rb");
    if (Pixmap == NULL) {
        printf("Erreur : le fichier Pixmap ne peut pas s'ouvrir correctement\n");
        return -1;
    }


    // point 2 lecture du fichier
    // Lecture de la largeur et de la hauteur de l'image
    unsigned int width, height;
    if (fread(&width, sizeof(unsigned int), 1, Pixmap) != 1) {
        printf("Erreur : impossible de lire la largeur de l'image\n");
        fclose(Pixmap);
        return -1;
    }
    if (fread(&height, sizeof(unsigned int), 1, Pixmap) != 1) {
        printf("Erreur : impossible de lire la hauteur de l'image\n");
        fclose(Pixmap);
        return -1;
    }

    // Vérification des bornes de la largeur et de la hauteur
    if (width <= 0 || height <= 0) {
        printf("Erreur : les dimensions de l'image sont incorrectes\n");
        fclose(Pixmap);
        return -1;
    }

    // Lire les couleurs des boules et les coordonnées du billard à partir des arguments de la ligne de commande
    int red_min, red_max, yellow_min, yellow_max, white_min, white_max, table_min, table_max;
    int table_x, table_y;

    if (argc != 30) {
        printf("Erreur : Nombre incorrect d'arguments de la ligne de commande.\n");
        return -1;
    }

    
